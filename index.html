<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Poker (Capsa)</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="main-menu" class="screen active">
        <h1>Game Poker</h1>
        <button id="btn-play-bot">Mainkan dengan Bot</button>
        <button id="btn-play-multiplayer">Mainkan Multiplayer (Online)</button>
        <button id="btn-rules" onclick="window.open('https://sauqing9.github.io/poker-rules/', '_blank')">Aturan Poker</button>
    </div>

    <div id="multiplayer-menu" class="screen hidden">
        <h2>Multiplayer (Online)</h2>
        <button id="btn-create-room">Buat Room</button>
        <div class="join-room-container">
            <input type="text" id="input-join-room" placeholder="Masukkan Kode Room (4 digit)" maxlength="4">
            <button id="btn-join-room">Join Room</button>
        </div>
        <button id="btn-quick-play" disabled>Main Cepat (Segera)</button>
        <button id="btn-back-to-main-menu">Kembali ke Menu Utama</button>
    </div>

    <div id="room-lobby" class="screen hidden">
        <div class="lobby-container">
            <div class="lobby-left">
                <h3>Lobi Room: <span id="lobby-room-id">ABCD</span></h3>
                
                <h4>Players</h4>
                <div id="lobby-player-slots" class="player-slots-container">
                    <div classclass="player-slot">
                        <span class="player-name">Player 1 (Host)</span>
                        <span class="player-status ready">Siap</span>
                    </div>
                    <div class="player-slot">
                        <span class="player-name">Player 2</span>
                        <button class="kick-btn">Kick</button>
                        <span class="player-status not-ready">Menunggu...</span>
                    </div>
                    <div class="player-slot bot">
                        <span class="player-name">Bot Easy</span>
                        <button class="remove-bot-btn">- Hapus Bot</button>
                        <span class="player-status ready">Siap</span>
                    </div>
                    <div class="player-slot empty">
                        <span class="player-name">(Slot Kosong)</span>
                        <button class="add-bot-btn">+ Tambah Bot</button>
                    </div>
                </div>

                <div class="lobby-controls">
                    <button id="lobby-btn-leave">Keluar Room</button>
                    <button id="lobby-btn-share-link">Share Link</button>
                </div>
            </div>

            <div id="lobby-right" class="lobby-right">
                <h4>Pengaturan (Hanya Host)</h4>
                
                <div class="lobby-setting-item">
                    <label for="lobby-setting-players">Jumlah Pemain:</label>
                    <select id="lobby-setting-players">
                        <option value="4">4 Pemain</option>
                        <option value="3">3 Pemain</option>
                    </select>
                </div>

                <div class="lobby-setting-item">
                    <label>Hint (Easy/Normal):</label>
                    <label><input type="checkbox" id="lobby-setting-hint-pair"> Hint Pair</label>
                    <label><input type="checkbox" id="lobby-setting-hint-combo"> Hint Kombo</label>
                </div>

                <div class="lobby-setting-item">
                    <label for="lobby-setting-sort-timer">Jeda Susun Kartu:</label>
                    <select id="lobby-setting-sort-timer">
                        <option value="0">Tidak Ada</option>
                        <option value="10">10 Detik</option>
                        <option value="15">15 Detik</option>
                    </select>
                </div>
                
                <div class="lobby-setting-item">
                    <label for="lobby-setting-turn-timer">Jeda Giliran:</label>
                    <select id="lobby-setting-turn-timer">
                        <option value="0">Tidak Ada</option>
                        <option value="10">10 Detik</option>
                        <option value="15">15 Detik</option>
                    </select>
                </div>
            </div>
        </div>
        
        <div class="lobby-actions">
            <button id="lobby-btn-ready" class="lobby-action-btn">SIAP</button>
            <button id="lobby-btn-start-game" class="lobby-action-btn hidden">MULAI PERMAINAN</button>
        </div>
    </div>

    <div id="bot-setup" class="screen hidden">
        <h2>Pengaturan Bot</h2>
        <div class="setup-option">
            <label for="select-difficulty">Kesulitan:</label>
            <select id="select-difficulty">
                <option value="easy">Mudah</option>
                <option value="normal">Normal</option>
                <option value="hard">Sulit</option>
            </select>
        </div>
        <div class="setup-option">
            <label for="select-player-count">Jumlah Pemain:</label>
            <select id="select-player-count">
                <option value="4">4 Pemain</option>
                <option value="3">3 Pemain</option>
            </select>
        </div>
        <button id="btn-start-game">Mulai Permainan</button>
        <button id="btn-back-to-menu">Kembali</button>
    </div>

    <div id="game-board" class="screen hidden">
        <button id="btn-in-game-menu" class="game-menu-button">â˜°</button>

        <div class="grid-area-top">
            <div class="player-info">
                <span id="bot-2-label" class="player-label">Bot 2</span>
                <span id="bot-2-card-count" class="card-count">0</span>
            </div>
            <div id="bot-2-hand" class="player-hand bot-hand top"></div>
        </div>

        <div class="grid-area-left">
            <div class="player-info">
                <span id="bot-1-label" class="player-label">Bot 1</span>
                <span id="bot-1-card-count" class="card-count">0</span>
            </div>
            <div id="bot-1-hand" class="player-hand bot-hand left"></div>
        </div>

        <div id="play-pile" class="grid-area-pile">
            <div id="discard-pile-card" class="card hidden"></div>
        </div>

        <div id="bot-3-container" class="grid-area-right">
            <div class="player-info">
                <span id="bot-3-label" class="player-label">Bot 3</span>
                <span id="bot-3-card-count" class="card-count">0</span>
            </div>
            <div id="bot-3-hand" class="player-hand bot-hand right"></div>
        </div>

        <div id="game-controls" class="grid-area-controls">
            <div class="player-info">
                <span id="player-label" class="player-label">Anda</span>
                <span id="player-card-count" class="card-count">0</span>
            </div>
            <button id="btn-sort-cards">Susun Kartu</button>
            <button id="btn-reset-sort" class="hidden">Reset Susun</button>
            <button id="btn-kombo-chance" class="hidden">Kombo Chance<span id="kombo-chance-count">(0)</span></button>
            <button id="btn-unselect" class="hidden">Unselect All</button>
            <button id="btn-play-card">Jalan</button>
            <button id="btn-skip-turn">Skip</button>
            <div id="hint-controls">
                <button id="btn-hint-pair" class="hidden">Hint</button>
                <button id="btn-hint-combo" class="hidden">Hint Kombo<span id="hint-combo-count">(0)</span></button>
            </div>
        </div>

        <div id="player-hand" class="player-hand my-hand grid-area-player"></div>

        <div id="game-status">
            <span id="current-player-status">...</span>
        </div>

        <div id="in-game-menu-overlay" class="screen hidden">
            <div id="in-game-menu-content">
                <h2>Menu</h2>
                <button id="btn-menu-restart">Restart Game</button>
                <button id="btn-menu-rules">Aturan Poker</button>
                <button id="btn-menu-main">Kembali ke Menu Utama</button>
                <button id="btn-menu-back" class="close-button">Kembali ke Game</button>
            </div>
        </div>

        <div id="adu3-modal-overlay" class="screen hidden">
            <div id="adu3-modal-content">
                <pre id="adu3-modal-text"></pre>
                <button id="adu3-btn-ok" class="lobby-action-btn">Oke</button>
            </div>
        </div>

    </div>

    <div id="end-game-screen" class="screen hidden">
        <div id="end-game-content">
            <h2>Game Selesai!</h2>
            <div id="end-game-results"></div>
            <div class="end-game-buttons">
                <button id="btn-play-again">Main Lagi</button>
                <button id="btn-end-game-main-menu">Menu Utama</button>
            </div>
        </div>
    </div>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <script src="game.js"></script>
</body>
</html>
